<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maison & Organisation</title>

<style>
body{
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background:#f5f3ff;
}

nav{
  display:flex;
  justify-content:space-around;
  padding:10px;
  background:#7c3aed;
  color:white;
}

.navbtn{
  cursor:pointer;
  font-weight:600;
}

.section{
  display:none;
  padding:16px;
}

.section.active{
  display:block;
}

.card{
  background:white;
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 4px 10px rgba(0,0,0,.08);
}

button{
  background:#ec4899;
  color:white;
  border:none;
  border-radius:12px;
  padding:10px 14px;
  font-size:16px;
  cursor:pointer;
}

input{
  width:100%;
  padding:10px;
  margin-bottom:10px;
  border-radius:10px;
  border:1px solid #ddd;
}

ul{
  padding-left:0;
  list-style:none;
}

li{
  margin-bottom:8px;
}
</style>
</head>

<body>

<nav>
  <div class="navbtn" onclick="show('home')">Accueil</div>
  <div class="navbtn" onclick="show('tasks')">T√¢ches</div>
  <div class="navbtn" onclick="show('agenda')">Agenda</div>
  <div class="navbtn" onclick="show('stats')">Stats</div>
</nav>

<!-- ACCUEIL -->
<div id="home" class="section active">
  <div class="card">
    <h2>üè† Maison & Organisation</h2>
    <p>Ton app perso d‚Äôorganisation + motivation ‚ú®</p>
  </div>
</div>

<!-- TACHES -->
<div id="tasks" class="section">
  <div class="card">
    <h2>üßπ Nettoyer la salle de bain</h2>
    <ul>
      <li><input type="checkbox" onchange="taskDone()"> Lavabo</li>
      <li><input type="checkbox" onchange="taskDone()"> Miroir</li>
      <li><input type="checkbox" onchange="taskDone()"> Douche</li>
      <li><input type="checkbox" onchange="taskDone()"> WC</li>
      <li><input type="checkbox" onchange="taskDone()"> Sol</li>
    </ul>
  </div>
</div>

<!-- AGENDA -->
<div id="agenda" class="section">
  <div class="card">
    <h2>üìÖ Ajouter un rendez-vous</h2>
    <input id="rdvTitle" placeholder="Titre">
    <input id="rdvDate" type="date">
    <input id="rdvTime" type="time">
    <button onclick="addRdv()">Ajouter</button>
  </div>

  <div class="card">
    <h2>üóÇÔ∏è Mes rendez-vous</h2>
    <ul id="rdvList"></ul>
  </div>
</div>

<!-- STATS -->
<div id="stats" class="section">
  <div class="card">
    <h2>üèÜ Progression</h2>
    <p id="xp">XP : 0</p>
  </div>
</div>

<script>
/* NAVIGATION */
function show(id){
  document.querySelectorAll(".section").forEach(s=>{
    s.classList.remove("active");
  });
  document.getElementById(id).classList.add("active");
}

/* XP + CONFETTIS */
let xp = Number(localStorage.getItem("xp") || 0);
document.getElementById("xp").innerText = "XP : " + xp;

function taskDone(){
  xp += 10;
  localStorage.setItem("xp",xp);
  document.getElementById("xp").innerText = "XP : " + xp;
  confetti();
}

/* CONFETTIS */
function confetti(){
  for(let i=0;i<40;i++){
    const c=document.createElement("div");
    const size=Math.random()*6+6;

    c.style.position="fixed";
    c.style.left=Math.random()*100+"vw";
    c.style.top="-20px";
    c.style.width=size+"px";
    c.style.height=size+"px";
    c.style.background=["#ec4899","#7c3aed","#3b82f6","#f43f5e"][Math.floor(Math.random()*4)];
    c.style.borderRadius=Math.random()>0.5?"50%":"4px";
    c.style.zIndex=9999;
    document.body.appendChild(c);

    let y=-20,x=0,r=Math.random()*360,s=Math.random()*4+3;
    const fall=setInterval(()=>{
      y+=s; x+=Math.random()*2-1; r+=10;
      c.style.transform=`translate(${x}px,${y}px) rotate(${r}deg)`;
      if(y>window.innerHeight){clearInterval(fall);c.remove();}
    },16);
  }
}

/* AGENDA */
let rdvs = JSON.parse(localStorage.getItem("rdvs") || "[]");

function addRdv(){
  const t=rdvTitle.value.trim();
  const d=rdvDate.value;
  const h=rdvTime.value;
  if(!t||!d){alert("Titre et date obligatoires");return;}
  rdvs.push({t,d,h});
  localStorage.setItem("rdvs",JSON.stringify(rdvs));
  rdvTitle.value="";rdvDate.value="";rdvTime.value="";
  renderRdvs();
}

function renderRdvs(){
  rdvList.innerHTML="";
  rdvs.sort((a,b)=>(a.d+a.h).localeCompare(b.d+b.h));
  rdvs.forEach((r,i)=>{
    const li=document.createElement("li");
    li.innerHTML=`üìå <b>${r.t}</b> ‚Äî ${r.d} ${r.h||""}
      <button onclick="delRdv(${i})">‚úñ</button>`;
    rdvList.appendChild(li);
  });
}

function delRdv(i){
  rdvs.splice(i,1);
  localStorage.setItem("rdvs",JSON.stringify(rdvs));
  renderRdvs();
}

renderRdvs();
</script>

</body>
</html>
